# CertiFi - Decentralized Document Verification

CertiFi is a decentralized application built on the Internet Computer Protocol (ICP) that provides secure document verification and management. It allows users to upload, verify, and manage documents in a trustless and transparent manner.

## Features

- **Document Upload**: Securely upload and store documents on the Internet Computer
- **Document Verification**: Verify the authenticity of documents using cryptographic hashes
- **Role-Based Access Control**: Different roles for users (Admin, Verifier, User)
- **Decentralized Storage**: Documents stored on the Internet Computer's blockchain
- **Internet Identity**: Secure authentication using Internet Identity
- **Responsive UI**: Modern and intuitive user interface

## Prerequisites

Before you begin, ensure you have the following installed:

- [Node.js](https://nodejs.org/) (v16 or later)
- [DFINITY Canister SDK (dfx)](https://internetcomputer.org/docs/current/developer-docs/setup/install/)
- [npm](https://www.npmjs.com/) (v6 or later)

## Getting Started

### 1. Clone the Repository

```bash
git clone <repository-url>
cd CertiFi
```

### 2. Run Setup Script

```bash
chmod +x scripts/*.sh
./scripts/setup.sh
```

This will:
- Install all frontend dependencies
- Set up environment variables
- Verify your development environment

### 3. Start Local Development

#### Option 1: Development Mode (Frontend + Backend)

```bash
# In the project root directory
npm run dev
```

This will:
1. Start the local Internet Computer replica
2. Deploy the canisters
3. Start the React development server

#### Option 2: Manual Start

```bash
# Start the local Internet Computer
dfx start --background

# Deploy canisters
dfx deploy

# Start frontend (in a new terminal)
cd frontend
npm start
```

## Project Structure

```
CertiFi/
├── backend/             # ICP backend canister code
│   ├── src/
│   │   └── main.mo     # Motoko backend code
│   └── src/main.did    # Candid interface definition
├── frontend/           # React frontend application
│   ├── public/         # Static files
│   └── src/            # React components and logic
├── scripts/            # Utility scripts
│   ├── deploy.sh       # Deployment script
│   └── setup.sh        # Setup script
├── dfx.json           # DFINITY project configuration
└── README.md          # This file
```

## Deployment

### Local Deployment

```bash
./scripts/deploy.sh
```

This will:
1. Build the frontend
2. Start the local Internet Computer
3. Deploy the canisters
4. Update environment variables

### Production Deployment

For production deployment to the Internet Computer mainnet:

```bash
# Build for production
npm run build

# Deploy to mainnet
dfx deploy --network ic
```

## Environment Variables

Create a `.env` file in the `frontend` directory with the following variables:

```env
REACT_APP_II_URL=https://identity.ic0.app  # Internet Identity URL
REACT_APP_NETWORK=local                    # 'local' or 'ic' for mainnet
```

## Available Scripts

In the project directory, you can run:

- `npm run dev`: Start development server with hot-reload
- `npm start`: Start the frontend development server
- `npm test`: Run tests
- `npm run build`: Build the app for production
- `dfx deploy`: Deploy canisters to the local network

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- [Internet Computer](https://internetcomputer.org/)
- [DFINITY](https://dfinity.org/)
- [React](https://reactjs.org/)
- [Motoko](https://internetcomputer.org/docs/current/motoko/main/motoko)

### Note on frontend environment variables

If you are hosting frontend code somewhere without using DFX, you may need to make one of the following adjustments to ensure your project does not fetch the root key in production:

- set`DFX_NETWORK` to `ic` if you are using Webpack
- use your own preferred method to replace `process.env.DFX_NETWORK` in the autogenerated declarations
  - Setting `canisters -> {asset_canister_id} -> declarations -> env_override to a string` in `dfx.json` will replace `process.env.DFX_NETWORK` with the string in the autogenerated declarations
- Write your own `createActor` constructor
